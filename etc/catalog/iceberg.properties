connector.name=iceberg
iceberg.catalog.type=jdbc
iceberg.jdbc-catalog.driver-class=org.postgresql.Driver
iceberg.jdbc-catalog.connection-url=jdbc:postgresql://${POSTGRES_HOST:-postgres}:5432/${POSTGRES_DB:-airflow}
iceberg.jdbc-catalog.connection-user=${POSTGRES_USER:-airflow}
iceberg.jdbc-catalog.connection-password=${POSTGRES_PASSWORD:-airflow}
iceberg.jdbc-catalog.default-warehouse-dir=s3a://${S3_BUCKET:-test-s3test}/
iceberg.add-files-procedure.enabled=true

iceberg.unique-table-location=true

# Это логическое имя каталога, под которым он будет виден в Trino:
iceberg.jdbc-catalog.catalog-name=catalog_dw

# Настройки S3 (Yandex Cloud)
fs.native-s3.enabled=true
s3.aws-access-key=${AWS_ACCESS_KEY_ID}
s3.aws-secret-key=${AWS_SECRET_ACCESS_KEY}
s3.endpoint=${S3_ENDPOINT:-https://storage.yandexcloud.net}
s3.path-style-access=true
s3.region=${S3_REGION:-ru-central1}

